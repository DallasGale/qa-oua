import{j as r}from"./jsx-runtime.7faW4zRM.js";import{r as f}from"./index.DhYZZe0J.js";import{b as l,c as h}from"./index.95d291e9.P8I4aEZ6.js";const j=f.forwardRef(({testimonial:e,authorAvatar:s,authorName:a,authorStatus:c,order:o,modifier:n},i)=>{const t={1:l["testimonial-1"],2:l["testimonial-2"],3:l["testimonial-3"]};return r.jsx("div",{className:`${l.cardContainer} ${n}`,ref:i,style:{zIndex:o},children:r.jsx("div",{id:o,className:`${l.testimonialCard} ${t[o]}`,"data-order":o,children:r.jsx("blockquote",{className:l.blockquote,children:r.jsxs("div",{className:l.content,children:[r.jsx("img",{className:l.avatar,src:s,alt:a}),r.jsxs("div",{className:l.body,children:[r.jsx("span",{className:l.quoteMark}),r.jsx("div",{className:`display-3 ${l.testimonial}`,dangerouslySetInnerHTML:{__html:e}}),r.jsxs("cite",{children:[r.jsx("p",{className:`display-4 ${l.name}`,children:a}),r.jsx("p",{className:`paragraph ${l.status}`,children:c})]})]})]})})})})});j.displayName="Testimonial";const $={src:"/_astro/testimonialAvatars.DhuTZO8K.png",width:437,height:126,format:"png"},C={src:"/_astro/jason.P5UN66JF.png",width:620,height:776,format:"png"},M={src:"/_astro/mariam.DAqsoAyE.png",width:620,height:776,format:"png"},_={src:"/_astro/sophie.BrWBlW9r.png",width:620,height:776,format:"png"};var A=new Map,b=new WeakMap,U=0,D=void 0;function V(e){return e?(b.has(e)||(U+=1,b.set(e,U.toString())),b.get(e)):"0"}function O(e){return Object.keys(e).sort().filter(s=>e[s]!==void 0).map(s=>`${s}_${s==="root"?V(e.root):e[s]}`).toString()}function q(e){const s=O(e);let a=A.get(s);if(!a){const c=new Map;let o;const n=new IntersectionObserver(i=>{i.forEach(t=>{var d;const u=t.isIntersecting&&o.some(m=>t.intersectionRatio>=m);e.trackVisibility&&typeof t.isVisible>"u"&&(t.isVisible=u),(d=c.get(t.target))==null||d.forEach(m=>{m(u,t)})})},e);o=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),a={id:s,observer:n,elements:c},A.set(s,a)}return a}function P(e,s,a={},c=D){if(typeof window.IntersectionObserver>"u"&&c!==void 0){const d=e.getBoundingClientRect();return s(c,{isIntersecting:c,target:e,intersectionRatio:typeof a.threshold=="number"?a.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:o,observer:n,elements:i}=q(a),t=i.get(e)||[];return i.has(e)||i.set(e,t),t.push(s),n.observe(e),function(){t.splice(t.indexOf(s),1),t.length===0&&(i.delete(e),n.unobserve(e)),i.size===0&&(n.disconnect(),A.delete(o))}}function I({threshold:e,delay:s,trackVisibility:a,rootMargin:c,root:o,triggerOnce:n,skip:i,initialInView:t,fallbackInView:d,onChange:u}={}){var m;const[g,x]=f.useState(null),v=f.useRef(),[S,E]=f.useState({inView:!!t,entry:void 0});v.current=u,f.useEffect(()=>{if(i||!g)return;let w;return w=P(g,(T,N)=>{E({inView:T,entry:N}),v.current&&v.current(T,N),N.isIntersecting&&n&&w&&(w(),w=void 0)},{root:o,rootMargin:c,threshold:e,trackVisibility:a,delay:s},d),()=>{w&&w()}},[Array.isArray(e)?e.toString():e,g,o,c,n,i,a,d,s]);const y=(m=S.entry)==null?void 0:m.target,R=f.useRef();!g&&y&&!n&&!i&&R.current!==y&&(R.current=y,E({inView:!!t,entry:void 0}));const p=[x,S.inView,S.entry];return p.ref=p[0],p.inView=p[1],p.entry=p[2],p}const k=()=>{const[e,s]=f.useState(0),[a,c]=f.useState({card1Scaled:!1,card2Scaled:!1}),[o,n]=I({threshold:.5}),[i,t]=I({threshold:.5}),[d,u]=I({threshold:.5});console.log({inView1:n,inView2:t,inView3:u}),f.useEffect(()=>{const g=()=>{const x=window.scrollY,v=x>e;console.log({scrollingDown:v}),c(S=>({card1Scaled:v?t||u:t,card2Scaled:u})),s(x)};return window.addEventListener("scroll",g,{passive:!0}),g(),()=>{window.removeEventListener("scroll",g)}},[e,n,t,u]);const m={1:h["scaleDown-1"],2:h["scaleDown-2"],3:h["scaleDown-3"]};return r.jsxs("section",{title:"testimonials",className:h.section,children:[r.jsx("img",{className:h.avatars,src:$.src,alt:"Testimonial avatars"}),r.jsxs("h3",{className:"display-2",children:["We’ve helped ",r.jsx("span",{className:h.highlight,children:"500,000+"})," students enrol since 1993"]}),r.jsx("div",{className:h.wrapper,children:r.jsxs("div",{className:h.testimonialsContainer,children:[r.jsx(j,{ref:o,modifier:a.card1Scaled?m[1]:h.scaleUp,order:"1",testimonial:'<p>"I wanted to take the next step in my career. I hadn’t gone to uni before and it’s been a long time since I was at high school. <strong>Open Universities Australia helped me figure out how to get to my longer term goals.</strong>"</p>',authorAvatar:C.src,authorName:"Jason",authorStatus:"Enrolled at La Trobe University"}),r.jsx(j,{ref:i,modifier:a.card2Scaled?m[2]:h.scaleUp,order:"2",testimonial:'<p>"I’d given up on studies and had no idea what I was going to do next. Until I spoke to a student advisor. <strong>She worked out a plan to help me get into what I wanted to do.</strong> I was really lost before that."</p>',authorAvatar:M.src,authorName:"Mariam",authorStatus:"Enrolled at University of Tasmania"}),r.jsx(j,{ref:d,modifier:"",order:"3",testimonial:'<p>"I always knew that I liked science, but <strong>Open Universities Australia helped me narrow down what field I wish to study after high school.</strong> And since it was all online it was nice and flexible."</p>',authorAvatar:_.src,authorName:"Sophie",authorStatus:"Enrolled at Murdoch University & Macquarie University"})]})})]})};export{k as default};
