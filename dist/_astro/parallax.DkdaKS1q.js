import{j as s}from"./jsx-runtime.7faW4zRM.js";import{r as f}from"./index.DhYZZe0J.js";import{b as n,c as h}from"./index.95d291e9.CixfE6oy.js";const S=f.forwardRef(({testimonial:e,authorAvatar:a,authorName:r,authorStatus:l,order:c,modifier:i},o)=>{const t={1:n["testimonial-1"],2:n["testimonial-2"],3:n["testimonial-3"]};return s.jsx("div",{className:`${n.cardContainer} ${i}`,ref:o,style:{zIndex:c},children:s.jsx("div",{id:c,className:`${n.testimonialCard} ${t[c]}`,"data-order":c,children:s.jsxs("div",{className:n.testimonialCardBackground,children:[s.jsx("span",{className:`${n.quoteMark} ${n.quoteMarkBelowTablet}`}),s.jsx("blockquote",{className:n.blockquote,children:s.jsxs("div",{className:n.content,children:[s.jsx("img",{className:n.avatar,src:a,alt:r}),s.jsxs("div",{className:n.body,children:[s.jsx("span",{className:`${n.quoteMark} ${n.quoteMarkAboveTablet}`})," ",s.jsx("div",{className:`display-3 ${n.testimonial}`,dangerouslySetInnerHTML:{__html:e}}),s.jsxs("cite",{children:[s.jsx("p",{className:`display-4 ${n.name}`,children:r}),s.jsx("p",{className:`paragraph ${n.status}`,children:l})]})]})]})})]})})})});S.displayName="Testimonial";const T={src:"/campaign/_astro/testimonialAvatars.DhuTZO8K.png",width:437,height:126,format:"png"},C={src:"/campaign/_astro/jason.P5UN66JF.png",width:620,height:776,format:"png"},U={src:"/campaign/_astro/mariam.DAqsoAyE.png",width:620,height:776,format:"png"},_={src:"/campaign/_astro/sophie.BrWBlW9r.png",width:620,height:776,format:"png"};var A=new Map,j=new WeakMap,R=0,q=void 0;function k(e){return e?(j.has(e)||(R+=1,j.set(e,R.toString())),j.get(e)):"0"}function D(e){return Object.keys(e).sort().filter(a=>e[a]!==void 0).map(a=>`${a}_${a==="root"?k(e.root):e[a]}`).toString()}function V(e){const a=D(e);let r=A.get(a);if(!r){const l=new Map;let c;const i=new IntersectionObserver(o=>{o.forEach(t=>{var d;const u=t.isIntersecting&&c.some(m=>t.intersectionRatio>=m);e.trackVisibility&&typeof t.isVisible>"u"&&(t.isVisible=u),(d=l.get(t.target))==null||d.forEach(m=>{m(u,t)})})},e);c=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:a,observer:i,elements:l},A.set(a,r)}return r}function B(e,a,r={},l=q){if(typeof window.IntersectionObserver>"u"&&l!==void 0){const d=e.getBoundingClientRect();return a(l,{isIntersecting:l,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:c,observer:i,elements:o}=V(r),t=o.get(e)||[];return o.has(e)||o.set(e,t),t.push(a),i.observe(e),function(){t.splice(t.indexOf(a),1),t.length===0&&(o.delete(e),i.unobserve(e)),o.size===0&&(i.disconnect(),A.delete(c))}}function I({threshold:e,delay:a,trackVisibility:r,rootMargin:l,root:c,triggerOnce:i,skip:o,initialInView:t,fallbackInView:d,onChange:u}={}){var m;const[g,x]=f.useState(null),p=f.useRef(),[b,$]=f.useState({inView:!!t,entry:void 0});p.current=u,f.useEffect(()=>{if(o||!g)return;let w;return w=B(g,(M,N)=>{$({inView:M,entry:N}),p.current&&p.current(M,N),N.isIntersecting&&i&&w&&(w(),w=void 0)},{root:c,rootMargin:l,threshold:e,trackVisibility:r,delay:a},d),()=>{w&&w()}},[Array.isArray(e)?e.toString():e,g,c,l,i,o,r,d,a]);const y=(m=b.entry)==null?void 0:m.target,E=f.useRef();!g&&y&&!i&&!o&&E.current!==y&&(E.current=y,$({inView:!!t,entry:void 0}));const v=[x,b.inView,b.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}const W=()=>{const[e,a]=f.useState(0),[r,l]=f.useState({card1Scaled:!1,card2Scaled:!1}),[c,i]=I({threshold:.5}),[o,t]=I({threshold:.5}),[d,u]=I({threshold:.5});console.log({inView1:i,inView2:t,inView3:u}),f.useEffect(()=>{const g=()=>{const x=window.scrollY,p=x>e;console.log({scrollingDown:p}),l(b=>({card1Scaled:p?t||u:t,card2Scaled:u})),a(x)};return window.addEventListener("scroll",g,{passive:!0}),g(),()=>{window.removeEventListener("scroll",g)}},[e,i,t,u]);const m={1:h["scaleDown-1"],2:h["scaleDown-2"],3:h["scaleDown-3"]};return s.jsxs("section",{className:h.section,children:[s.jsx("img",{className:h.avatars,src:T.src,alt:"Testimonial avatars"}),s.jsxs("h3",{className:"display-2",children:["We’ve helped ",s.jsx("span",{className:h.highlight,children:"500,000+"})," students enrol since 1993"]}),s.jsx("div",{className:h.wrapper,children:s.jsxs("div",{className:h.testimonialsContainer,children:[s.jsx(S,{ref:c,modifier:r.card1Scaled?m[1]:h.scaleUp,order:"1",testimonial:'<p>"I wanted to take the next step in my career. I hadn’t gone to uni before and it’s been a long time since I was at high school. <strong>Open Universities Australia helped me figure out how to get to my longer term goals.</strong>"</p>',authorAvatar:C.src,authorName:"Jason",authorStatus:"Enrolled at La Trobe University"}),s.jsx(S,{ref:o,modifier:r.card2Scaled?m[2]:h.scaleUp,order:"2",testimonial:'<p>"I’d given up on studies and had no idea what I was going to do next. Until I spoke to a student advisor. <strong>She worked out a plan to help me get into what I wanted to do.</strong> I was really lost before that."</p>',authorAvatar:U.src,authorName:"Mariam",authorStatus:"Enrolled at University of Tasmania"}),s.jsx(S,{ref:d,modifier:"",order:"3",testimonial:'<p>"I always knew that I liked science, but <strong>Open Universities Australia helped me narrow down what field I wish to study after high school.</strong> And since it was all online it was nice and flexible."</p>',authorAvatar:_.src,authorName:"Sophie",authorStatus:"Enrolled at Murdoch University & Macquarie University"})]})})]})};export{W as default};
